<h5>Problem Basic Info:</h5>
<br>
<form [formGroup]="basicInfo">

    <mat-form-field appearance="fill">
        <mat-label>Problem Name</mat-label>
        <input matInput formControlName="name">
    </mat-form-field>

    <mat-form-field appearance="fill">
        <mat-label>Description (Prompt)</mat-label>
        <textarea matInput formControlName="description"></textarea>
    </mat-form-field>

    <hr>

    <h5>Inputs:</h5>
    <span >
        <button mat-raised-button color="primary" (click)="onAddInput()">Add</button>
        <button mat-raised-button color="warn" (click)="onDeleteInput()">
            <span *ngIf="!inputsDeleteable">Delete</span>
            <span *ngIf="inputsDeleteable">Stop Deleting</span>
        </button>
    </span>
    <br>
    <br>

    <mat-card
        (click)="onInputNameClicked(i)" 
        [ngClass]="{deleteable: inputsDeleteable}" 
        appearance="fill" 
        class="io_card"
        formArrayName="input_data" 
        *ngFor="let j of getInputNames().controls; let i = index;"
    >

        <div [formGroupName]="i">
        <mat-form-field appearance="fill">
            <mat-label>Input {{i + 1}}:</mat-label>
            <input matInput formControlName="name">
        </mat-form-field>
        
        <mat-form-field appearance="fill">
            <mat-label>Type:</mat-label>
            <mat-select formControlName="type">
                <mat-option>--</mat-option>
                <mat-option *ngFor="let valueType of valueTypes" [value]="valueType.value">{{valueType.type}}</mat-option>
                <!-- <mat-option value="number">Number</mat-option>
                <mat-option value="string">String</mat-option> -->
            </mat-select>
        </mat-form-field>

        <!-- <mat-form-field appearance="fill">
            <mat-label>Range:</mat-label>
            <mat-select formControlName="range">
                
              <mat-option *ngIf="j.get('type').value == '--'">--</mat-option>
              <mat-option 
                *ngIf="j.get('type').value == 'Number'"
                >Number</mat-option>
              <mat-option *ngIf="j.get('type').value == 'String'">String</mat-option>
            </mat-select>
        </mat-form-field> -->
        
          
        <!-- <mat-card-header>
          <mat-card-title>{{class.name}}</mat-card-title>
          <mat-card-subtitle>{{class.teacher_name}}</mat-card-subtitle>
          <mat-card-subtitle *ngIf="isTeacher">{{class.code}}</mat-card-subtitle>
          <app-edit-menu *ngIf="isTeacher" (editClick)="onEditClass(i)" (deleteClick)="onDeleteClass(i)"></app-edit-menu>
        </mat-card-header>
        <img mat-card-image src="https://material.angular.io/assets/img/examples/shiba2.jpg" alt="Photo of a Shiba Inu">
        <mat-card-actions>
          <button mat-button [routerLink]="['/class', class.code, class.id, 'assignments']">Go To Class</button>
        </mat-card-actions> -->
    </div>
    </mat-card>

    <!-- <mat-form-field 
        (click)="onInputNameClicked(i)" 
        [ngClass]="{deleteable: inputsDeleteable}" 
        appearance="fill" 
        class="name"
        formArrayName="input_names" 
        *ngFor="let j of getInputNames().controls; let i = index;"
    >
        <mat-label>Input {{i + 1}}:</mat-label>
        <input matInput [formControlName]="i">
    </mat-form-field>
     -->
    <hr>

    <h5>Outputs:</h5>
    <span >
        <button mat-raised-button color="primary" (click)="onAddOutput()">Add</button>
        <button mat-raised-button color="warn" (click)="onDeleteOutput()">
            <span *ngIf="!outputsDeleteable">Delete</span>
            <span *ngIf="outputsDeleteable">Stop Deleting</span>
        </button>
    </span>
    <br>
    <br>


    <mat-card
        (click)="onOutputNameClicked(i)" 
        [ngClass]="{deleteable: outputsDeleteable}" 
        appearance="fill" 
        class="io_card"
        formArrayName="output_data" 
        *ngFor="let j of getOutputNames().controls; let i = index;"
    >

        <div [formGroupName]="i">
        <mat-form-field appearance="fill">
            <mat-label>Output {{i + 1}}:</mat-label>
            <input matInput formControlName="name">
        </mat-form-field>
        
        <mat-form-field appearance="fill">
            <mat-label>Type:</mat-label>
            <mat-select formControlName="type">
              <mat-option>--</mat-option>
              <mat-option *ngFor="let valueType of valueTypes" [value]="valueType.value">{{valueType.type}}</mat-option>
              <!-- <mat-option value="number">Number</mat-option>
              <mat-option value="string">String</mat-option> -->
            </mat-select>
        </mat-form-field>
    </div>
    </mat-card>

    <!-- <mat-form-field 
        (click)="onOutputNameClicked(i)" 
        [ngClass]="{deleteable: outputsDeleteable}" 
        appearance="fill" 
        class="name"
        formArrayName="output_names" 
        *ngFor="let j of getOutputNames().controls; let i = index;"
    >
        <mat-label>Output {{i + 1}}:</mat-label>
        <input matInput [formControlName]="i">
    </mat-form-field> -->

    <hr>
    <button mat-raised-button color="primary" routerLink="../../assignments" type="button">Back</button>
    <button mat-raised-button color="primary" [disabled]="basicInfo.invalid" routerLink="../tests" type="button">Next</button>

</form>
<hr>
<hr>
<hr>
<hr>